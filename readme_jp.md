# Duolingo for Koishi

[![npm](https://img.shields.io/npm/v/koishi-plugin-duolingo?style=flat-square)](https://www.npmjs.com/package/koishi-plugin-duolingo)

[简体中文](/readme.md) | [English](/readme_en.md) | [日本語](/readme_jp.md)

## 概要

このプラグインはKoishiフレームワークに基づいて開発され、Duolingoプラットフォームとの相互作用を実現し、ユーザー情報の照会、バインド、経験値データの更新、ランキング表示などの機能を提供します。

### 機能

1. **ユーザーバインド**：ユーザーは`duolingo bind <username>`コマンドを使用して、自分のQQアカウントをDuolingoアカウントにバインドできます。
2. **ユーザー情報照会**：
    - `duolingo info <username>`：指定したDuolingoユーザー名の詳細情報を照会します。登録日、現在の連勝、合計EXPなどが含まれます。ユーザー名を指定しない場合は、既にバインドされたユーザーの情報を照会します。
    - `duolingo streak <username>`：指定したユーザーの連勝の詳細情報を表示します。現在の連勝と最長連勝の開始日、終了日、期間などが含まれます。ユーザー名を指定しない場合は、既にバインドされたユーザーの情報を照会します。
3. **ランキング表示**：`duolingo ranking [type:string]`コマンドを使用すると、日次（daily）、週次（weekly）、または総合（total）のEXPランキングを表示でき、ユーザーの経験値の順位を確認できます。
4. **経験値データ更新**：プラグインは毎日午前0時に自動的にユーザーの経験値データを更新します。管理者は`duolingo/update`コマンドを使用して手動で更新することもできます。
5. **経験値カレンダー**：`duolingo calendar [username]`コマンドを使用すると、ユーザーは経験値カレンダーを見ることができ、毎日獲得した経験値、学習回数、合計学習時間などを表示できます。

### 使い方

1. **アカウントバインド**：チャットウィンドウに`duolingo bind <username>`と入力します。`<username>`はあなたのDuolingoユーザー名で、表示されるプロンプトに従ってバインドを完了します。
2. **情報照会**：上記の機能説明に従って、チャットウィンドウに対応するコマンドとパラメータを入力して、必要な情報を取得します。
3. **ランキング表示**：`duolingo ranking [type]`と入力します。`type`には`daily`、`weekly`、`total`のいずれかを指定して、異なる種類のランキングを表示できます。
4. **データ更新**：管理者は`duolingo update`を入力して、手動でユーザーの経験値データを更新できます。

### 注意事項

1. プラグインがDuolingoプラットフォームからデータを円滑に取得できるよう、ネットワーク接続を正常に保ってください。
2. DuolingoプラットフォームのAPIが変更された場合、プラグインコードに対応する調整が必要になる場合があります。
3. プラグインの一部の機能は、ユーザーが既にDuolingoアカウントをバインドしていることを前提としています。バインドされていない場合、正常に使用できない可能性があります。
